\begin{center}
\begin{tikzpicture}[>=stealth,
  block/.style={
    draw,
    rectangle,
    rounded corners,
    minimum width=2cm,
    minimum height=2cm,
    text width=2cm,
    anchor=center,
    align=center
  },
    optional/.style={
    draw,
    rectangle,
    rounded corners,
    minimum width=1.5cm,
    minimum height=1cm,
    text width=2cm,
    anchor=center,
    align=center,
    color = gray,
  },
    circular/.style={
    draw,
    circle,
    rounded corners,
    minimum width=0.25cm,
    minimum height=0.25cm,
    text width=1cm,
    minimum size=#1,
    anchor=center,
    align=center,
    inner sep=0pt, 
    outer sep=0pt,
    color = black,
  }]
  %coordinates
  \coordinate (orig)   at (0,0);
  \coordinate (LLA)    at (-5,0);
  \coordinate (LLB)    at (5,0);
  
  \coordinate (LM1) at   (-0.75,0);
  \coordinate (LM2) at   (0.75,0);
  
  \coordinate (LLD)    at (0,-3);

  %nodestyle


  %nodes
  \node[block] (A) at (LLA) {DUT\\Control ECU};
  \node[block] (A2) at ($(LLA) + (2.25,0)$) {DUT\\Power\\Stage};
  \node[block] (B) at (LLB) {Real-Time\\Simulator};
  \node[block] (B2) at ($(LLB) - (2.25,0)$) {Power\\Stage};
  
  
  
      \draw[draw, dashed, color=gray!50] (0,1.5) -- (0,-1.5);
  %edges
  
    \node[optional] (D) at (LLD) {DC/DC};
    
    \node[circular= 3pt] (M1) at (LM1) {M};
    \node[circular= 3pt] (M2) at (LM2) {M};

    \draw[-, line width = 2pt] ($(A2.0) + (0, 0.3)$) -- node[above] {} ($(M1.180) + (0 , 0.3)$);
    \draw[-, line width = 2pt] ($(A2.0) - (0, 0.3)$) -- node[above] {} ($(M1.180) - (0 , 0.3)$);
    \draw[-, line width = 2pt] ($(A2.0) + (0, 0)$) -- node[above] {} ($(M1.180) + (0 , 0)$);

    \draw[-, line width = 2pt] ($(M2.0) + (0, 0.3)$) -- node[above] {} ($(B2.180) + (0 , 0.3)$);
    \draw[-, line width = 2pt] ($(M2.0) - (0, 0.3)$) -- node[above] {} ($(B2.180) - (0 , 0.3)$);
    \draw[-, line width = 2pt] ($(M2.0) + (0, 0)$) -- node[above] {} ($(B2.180) + (0 , 0)$);
    
    \draw[-, line width = 2pt] ($(M1.0) + (0, 0)$) -- node[above] {} ($(M2.180) + (0 , 0)$);
    
    \draw[-, line width = 2pt] (D.0) -- node[above] {} (2.75,-3)  -- ($(B2.270) + (0 , 0)$);
    
    \draw[-, line width = 2pt] (D.180) -- node[above] {} (-2.75,-3)  -- ($(A2.270) + (0 , 0)$);
    
    \draw[line width = 2pt, ->] (-1,-1.5) arc (30:300:0.5) node[above right] {Power Flow};



\end{tikzpicture}
\end{center}